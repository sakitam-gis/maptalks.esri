<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>maptalks</title>
<link rel="stylesheet" href="../node_modules/maptalks/dist/maptalks.css">
<style type="text/css">
    html, body {
        margin: 0px;
        height: 100%;
        width: 100%
    }

    .container {
        width: 100%;
        height: 100%
    }
</style>
<body>
<div id="map" class="container"></div>
<script src="../node_modules/maptalks/dist/maptalks.js"></script>
<script src="../dist/maptalks.esri.js"></script>
<script type="text/javascript">
    var map = new maptalks.Map('map', {
        center: [108.93, 34.27],
        zoom: 5,
        spatialReference:{
            projection:'EPSG:4326'
        },
        baseLayer: new maptalks.TileLayer('base', {
            tileSystem : [1, -1, -180, 90],
            urlTemplate:'http://t{s}.tianditu.com/DataServer?T=vec_c&x={x}&y={y}&l={z}',
            subdomains:['1', '2', '3', '4', '5'],
            attribution : '&copy; <a target="_blank" href="http://www.tianditu.cn">Tianditu</a>'
        })
    });
    var layer = new maptalks.esri.TileArcGISRest('mapServer', {
        urlTemplate: 'http://211.101.37.227:9311/arcgis/rest/services/JIANGXI/jdztraffic/MapServer/export'
    });
    map.addLayer(layer);
</script>
</body>
</html>
